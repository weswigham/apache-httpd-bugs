Received: (qmail 23495 invoked by uid 2012); 3 May 1998 00:12:35 -0000
Message-Id: <19980503001235.23494.qmail@hyperreal.org>
Date: 3 May 1998 00:12:35 -0000
From: Kris Kahn <zaphod@cybernetix.com>
Reply-To: zaphod@cybernetix.com
To: apbugs@hyperreal.org
Subject: default path in httpd.conf incorrect
X-Send-Pr-Version: 3.2

>Number:         2175
>Category:       config
>Synopsis:       default path in httpd.conf incorrect
>Confidential:   no
>Severity:       non-critical
>Priority:       medium
>Responsible:    apache
>State:          closed
>Class:          mistaken
>Submitter-Id:   apache
>Arrival-Date:   Sat May  2 17:20:01 PDT 1998
>Last-Modified:  Sat Sep 26 10:38:23 PDT 1998
>Originator:     zaphod@cybernetix.com
>Organization:
>Release:        1.3b6
>Environment:
Solaris 2.6, gcc 2.8.1, apache 1.3B6, not that much of that applies to this error.
>Description:
After the make install, and editing the conf files for the first time,
I uncommented the following lines in the httpd.conf:

CustomLog logs/referer_log referer
CustomLog logs/agent_log agent

When attempting to start up apache, it just exited:

/usr/local/apache/sbin/apachectl start: httpd could not be started

After a bit of searching using "truss /usr/local/apache/sbin/httpd", I found
that it was not finding the SERVER_ROOT/logs directory.  So, just changing the
entry in httpd.conf to:

CustomLog var/logs/referer_log referer
CustomLog var/logs/agent_log agent

...resolves the problem.
>How-To-Repeat:

See above, just uncomment those lines in the httpd.conf
>Fix:
The error message generated by httpd (or the exit code passed to apachectl) should
indicate exactly what the problem is, i.e. "Non-existant: logs/referrer_log" or
"Directory: logs (defined in httpd.conf), does not exist"

And, you should probably make that small change to the existing default entries
in the generic httpd.conf.

>Audit-Trail:

From: Marc Slemko <marcs@znep.com>
To: Kris Kahn <zaphod@cybernetix.com>
Cc: apbugs@hyperreal.org
Subject: Re: config/2175: default path in httpd.conf incorrect
Date: Sat, 2 May 1998 23:45:42 -0600 (MDT)

 On 3 May 1998, Kris Kahn wrote:
 
 > When attempting to start up apache, it just exited:
 > 
 > /usr/local/apache/sbin/apachectl start: httpd could not be started
 > 
 > After a bit of searching using "truss /usr/local/apache/sbin/httpd", I found
 > that it was not finding the SERVER_ROOT/logs directory.  So, just changing the
 > entry in httpd.conf to:
 > 
 > CustomLog var/logs/referer_log referer
 > CustomLog var/logs/agent_log agent
 > 
 > ...resolves the problem.
 > >How-To-Repeat:
 > 
 > See above, just uncomment those lines in the httpd.conf
 > >Fix:
 > The error message generated by httpd (or the exit code passed to apachectl) should
 > indicate exactly what the problem is, i.e. "Non-existant: logs/referrer_log" or
 > "Directory: logs (defined in httpd.conf), does not exist"
 
 Did you look in the error log?
 
State-Changed-From-To: open-feedback
State-Changed-By: rse
State-Changed-When: Sun May  3 03:20:01 PDT 1998
State-Changed-Why:
The adjustment for the agent_log and referer_log
entries in httpd.conf is now fixed for 1.3b7.
Thanks for your feedback.

What about your error log: did it show the error or not?
State-Changed-From-To: feedback-closed
State-Changed-By: coar
State-Changed-When: Sat Sep 26 10:38:23 PDT 1998
State-Changed-Why:
[This is a standard response.]
No response from submitter, assuming issue has been resolved.
>Unformatted:
[In order for any reply to be added to the PR database, ]
[you need to include <apbugs@Apache.Org> in the Cc line ]
[and leave the subject line UNCHANGED.  This is not done]
[automatically because of the potential for mail loops. ]



