Received: (qmail 25653 invoked by uid 2012); 25 May 1999 03:50:19 -0000
Message-Id: <19990525035019.25652.qmail@hyperreal.org>
Date: 25 May 1999 03:50:19 -0000
From: Marco Sacoman <sacoman@bauru.unesp.br>
Reply-To: sacoman@bauru.unesp.br
To: apbugs@hyperreal.org
Subject: ScriptAlias for long file name don't work with 16 bit executable cgi
X-Send-Pr-Version: 3.2

>Number:         4471
>Category:       os-windows
>Synopsis:       ScriptAlias for long file name don't work with 16 bit executable cgi
>Confidential:   no
>Severity:       non-critical
>Priority:       medium
>Responsible:    apache
>State:          closed
>Quarter:        
>Keywords:       
>Date-Required:
>Class:          sw-bug
>Submitter-Id:   apache
>Arrival-Date:   Mon May 24 21:00:01 PDT 1999
>Closed-Date:    Wed May 30 12:09:19 PDT 2001
>Last-Modified:  Wed May 30 12:09:19 PDT 2001
>Originator:     sacoman@bauru.unesp.br
>Release:        1.3.6
>Organization:
>Environment:
Windows 98
>Description:
cgi:
Any 16 bit executable program (Pascal, C, ...)

httpd.conf:
# don't work
ScriptAlias /cgi-bin/ "C:/Program Files/Apache Group/Apache/cgi-bin/"
# work
ScriptAlias /cgi-bin/ "C:/short/and/single/file/name/for/cgi-16/"
>How-To-Repeat:

>Fix:

>Release-Note:
>Audit-Trail:
State-Changed-From-To: open-feedback
State-Changed-By: coar
State-Changed-When: Wed May 26 07:49:35 PDT 1999
State-Changed-Why:

What do you mean by 'work' and 'don't work'?  What symptoms
do you see?  Are there errors in the error log?

Release-Changed-From-To: 1.3.6 (Win32)-1.3.6
Release-Changed-By: coar
Release-Changed-When: Wed May 26 07:49:35 PDT 1999
Category-Changed-From-To: config-os-windows
Category-Changed-By: coar
Category-Changed-When: Wed May 26 07:49:35 PDT 1999


From: "Marco Antônio Rahal Sacoman" <sacoman@bauru.unesp.br>
To: coar@apache.org
Cc: apache-bugdb@apache.org, apbugs@apache.org
Subject: Re: os-windows/4471: ScriptAlias for long file name don't work with 16 bit executable cgi
Date: Wed, 26 May 1999 17:53:54 -0300

 [1]
 Consider a 16 bit executable cgi. For example, the program TEST.PAS
 compiled with Borland Pascal resulting in TEST.EXE:
 
 begin
   WriteLn('Content-type: text/html');
   WriteLn;
   WriteLn('<h1>The old Hello World test !</h1>');
 end.
 
 [2]
 Consider the following lines in httpd.conf:
 
 ScriptAlias /cgi-bin/ "C:/Arquivos de programas/Apache
 Group/Apache/cgi-bin/"
 ScriptAlias /cgi-16/ "C:/Apache/cgi-16/"
 
 <Directory "C:/Arquivos de programas/Apache Group/Apache/cgi-bin">
   AllowOverride None
   Options None
 </Directory>
 <Directory "C:/Apache/cgi-16">
   AllowOverride None
   Options None
 </Directory>
 
 Note: Arquivos de Programas = Program Files (Portuguese)
 
 [3]
 Consider the following 2 requests:
 
 http://localhost/cgi-bin/teste.exe
 http://localhost/cgi-16/teste.exe
 
 [4]
 The first request (cgi-bin/teste.exe) gives
 
 access.log
 localhost - - [26/May/1999:13:32:09 -0300] "GET /cgi-bin/teste.exe
 HTTP/1.0" 500 602
 
 error.log
 [Wed May 26 13:32:09 1999] [error] [client 127.0.0.1] Premature end of
 script headers: c:/arquivos de programas/apache
 group/apache/cgi-bin/teste.exe
 
 The second request (cgi-16/teste.exe) gives
 
 access.log
 localhost - - [26/May/1999:13:32:18 -0300] "GET /cgi-16/teste.exe
 HTTP/1.0" 200 37
 
 There are no errors in this case and I can see a big "The old Hello
 World test !" in browser.
 
 [5]
 Under these evidences, I can suppose
 (a) Apache can't get the result of 16 bit executable cgi;
     OR
 (b) Windows98 (DOS) can't send the result through environment to Apache
 
 (a) or (b) occur when cgi directories have long or composed file name,
 for instance
 c:/program files/...
 c:/123456789/...
State-Changed-From-To: feedback-open
State-Changed-By: coar
State-Changed-When: Fri Jun  4 15:33:51 PDT 1999
State-Changed-Why:
[Received requested feedback]
Comment-Added-By: stoddard
Comment-Added-When: Wed Jun 16 16:22:20 PDT 1999
Comment-Added:
Apache on Win32 has know problems running 16 bit CGIs. Our
recommendation is to not use them. Anyways... try putting the 16 bit cgi in a .bat file. I've heard reports that this
is one way to run 16 bit cgi's.  Please post results here.
State-Changed-From-To: open-closed
State-Changed-By: wrowe
State-Changed-When: Wed May 30 12:09:18 PDT 2001
State-Changed-Why:
User reports short path names to 16 bit apache binaries
solved the problem.
>Unformatted:
[In order for any reply to be added to the PR database, you need]
[to include <apbugs@Apache.Org> in the Cc line and make sure the]
[subject line starts with the report component and number, with ]
[or without any 'Re:' prefixes (such as "general/1098:" or      ]
["Re: general/1098:").  If the subject doesn't match this       ]
[pattern, your message will be misfiled and ignored.  The       ]
["apbugs" address is not added to the Cc line of messages from  ]
[the database automatically because of the potential for mail   ]
[loops.  If you do not include this Cc, your reply may be ig-   ]
[nored unless you are responding to an explicit request from a  ]
[developer.  Reply only with text; DO NOT SEND ATTACHMENTS!     ]



