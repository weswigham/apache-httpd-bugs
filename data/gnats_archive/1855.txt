Received: (qmail 2831 invoked by uid 2012); 22 Feb 1998 19:21:57 -0000
Message-Id: <19980222192157.2830.qmail@hyperreal.org>
Date: 22 Feb 1998 19:21:57 -0000
From: Randy Weinstein <rw263@is7.NYU.EDU>
Reply-To: rw263@is7.NYU.EDU
To: apbugs@hyperreal.org
Subject: More Control over autoindex layout
X-Send-Pr-Version: 3.2

>Number:         1855
>Category:       mod_autoindex
>Synopsis:       More Control over autoindex layout
>Confidential:   no
>Severity:       non-critical
>Priority:       medium
>Responsible:    apache
>State:          closed
>Quarter:        
>Keywords:       
>Date-Required:
>Class:          change-request
>Submitter-Id:   apache
>Arrival-Date:   Sun Feb 22 11:30:01 PST 1998
>Closed-Date:    Tue Aug 07 06:26:08 PDT 2001
>Last-Modified:  Tue Aug 07 06:26:08 PDT 2001
>Originator:     rw263@is7.NYU.EDU
>Release:        1.3
>Organization:
>Environment:
N/A
>Description:
Looking for a way to have more control over the output of an autogenerated HTML
File.  For instance, if an index.html file isn't present, mod_autoindex takes over
however, you are forced into using THEIR output.  So it contains a <PRE><HR> and
other tags, that you really have no control over the "view" of the page.  It would
make more sense for the htaccess file to allow a 'Template Filename' line.  There
one could have the filename specify the format of the Header, Body and Footer of the
Page that the server creates.  This would allow of full customization of the autoindex
page.

Is this duable?  Can it be added to a future release of apache (maybe even 1.3 *HINT HINT*)
See the "Suggested way to fix"
 or email for any questions.  This is just ONE way
of allowing more configuration.  Templates seems like a pretty cool idea?  
As for the tags in the templates and the such, dunno how well the %Filename%, and other
%'s would work.... may need a different way to delineate?  Any comments on any of this?
>How-To-Repeat:
N/A
>Fix:
+Create Template and have template recognized via tags and input from the htaccess config file.
For example, have %FILENAME%, %DATE%, %LAST_MODIFIED%, %DESCRIPTION% or the like and in the htaccess
file have a line like: TemplateHeader Filename.
                       TemplateBody Filename
                       TemplateFooter Filename

This would then scan for specified tags in this case they are delineated by %'s, and
it would replace those with the actual contents.  This allows for FULL customization
the autoindex file?

If replacing in the header, then the hyperlinks to sort (added in 1.3) could be auto
added and the icon could be added in the BODY section under the FileName area.
This seems like a way to have FULL control over the autocreated indexing?

Contents of possible Template Files are below?

--- TemplateHeader Filename Contents ------------------------------------------
<table border=0>
 <tr>
  <td>%Filename%</td>
  <td>%LastModified%</td>
  <td>%Size%</td>
  <td>%Description%</td>
 </tr>
 <tr>
  <td colspan=4><hr noshade></td></tr>
-------------------------------------------------------------------------------

--- TemplateBody Filename Contents --------------------------------------------
 <tr>
  <td>%Filename%</td>
  <td>%LastModified%</td>
  <td>%Size</td>
  <td>%Description</td>
 </tr>
-------------------------------------------------------------------------------

--- TemplateFooter Filename Contents ------------------------------------------
 </table>
------------------------------------------------------------------------------
>Release-Note:
>Audit-Trail:
State-Changed-From-To: open-suspended
State-Changed-By: Lars.Eilebrecht@unix-ag.org
State-Changed-When: Sun Mar  1 13:53:40 PST 1998
State-Changed-Why:

This is a nice idea, but it is to late to be considered
for Apache 1.3.

I've suspended your change-request so that it can be
reviewed at a later time and maybe added to a future
Apache version.

Thanks for using Apache.


From: Randy Jae Weinstein <rw263@is7.nyu.edu>
To: apache-bugdb@apache.org
Cc: apbugs@apache.org
Subject: Re: mod_autoindex/1855: More Control over autoindex layout
Date: Sat, 3 Oct 1998 10:27:26 -0400 (EDT)

 In the TemplateBody, allow strftime format-code so one can choose the way
 the last modified date is shown.
 
 -Cheers,
  RJW
 
 
State-Changed-From-To: suspended-closed
State-Changed-By: wrowe
State-Changed-When: Tue Aug  7 06:26:08 PDT 2001
State-Changed-Why:

A number of formatting changes were introduced throughout 
the 1.3 development cycle.  Apache 2.0 takes this one
step further with table output.

The customization you seek fits more into the realm of a
custom module (written in C, mod_perl or mod_tcl.)

I'm closing this report as out-of-scope for mod_index,
since anything more than the current cpu and memory
intensive operation (such as extra parsing) isn't 
beneficial to Apache.  Such a module could no doubt 
be more lightweight and tuned to the site's needs.

There are other posts on changing the displayed date
format, and that feature remains under consideration,
for likely inclusion in Apache 2.0.

>Unformatted:
[In order for any reply to be added to the PR database, ]
[you need to include <apbugs@Apache.Org> in the Cc line ]
[and leave the subject line UNCHANGED.  This is not done]
[automatically because of the potential for mail loops. ]



