Received: (qmail 76734 invoked by uid 501); 27 Feb 2002 05:27:05 -0000
Message-Id: <20020227052705.76733.qmail@apache.org>
Date: 27 Feb 2002 05:27:05 -0000
From: Shawn Marshall <shawn.marshall@solnet.co.nz>
Reply-To: shawn.marshall@solnet.co.nz
To: submit@bugz.apache.org
Subject: Core dumps in error logs, Apache / iPlanet:
X-Send-Pr-Version: 3.110

>Number:         9971
>Category:       general
>Synopsis:       Core dumps in error logs, Apache / iPlanet:
>Confidential:   no
>Severity:       non-critical
>Priority:       medium
>Responsible:    apache
>State:          closed
>Quarter:        
>Keywords:       
>Date-Required:
>Class:          sw-bug
>Submitter-Id:   apache
>Arrival-Date:   Tue Feb 26 21:30:00 PST 2002
>Closed-Date:    Sun Mar 03 11:33:40 PST 2002
>Last-Modified:  Sun Mar 03 11:33:40 PST 2002
>Originator:     shawn.marshall@solnet.co.nz
>Release:        1.3.19
>Organization:
>Environment:
SunOS akldnd 5.6 Generic_105181-30 sun4u sparc SUNW,Ultra-250
gcc, g++ - GNU project C and C++ Compiler (gcc-2.95)
iPlanet 6.0 sp4
Config Options :

CFLAGS=-DUSE_SYSVSEM_SERIALIZED_ACCEPT ./configure --prefix=/client/fpias/apache --enable-module=so --wi
th-port=10095



>Description:
Hi,

I'm using the iPlanet Apache web plug-in to integrate Apache Web Server with iPLanet Application Server, I've managed to get the two talking to each other and we are able to serve up our application, but occassionally we are seeing a core dump in the Apache error_log file, the core dump may be one of the two described below. I have attempted to set the following in httpd.conf but it makes no difference :

MaxRequestsPerChild 1000    

backtrace for [Wed Feb 27 15:57:02 2002] [notice] child pid 2619 exit signal Illegal Instruction (4), possible coredump in /client/fpias/ap
ache

GNU gdb 4.17
Copyright 1998 Free Software Foundation, Inc.
GDB is free software, covered by the GNU General Public License, and you are
welcome to change it and/or distribute copies of it under certain conditions.
Type "show copying" to see the conditions.
There is absolutely no warranty for GDB.  Type "show warranty" for details.
This GDB was configured as "sparc-sun-solaris2.6"...
Core was generated by `/client/fpias/apache/bin/httpd'.
Program terminated with signal 9, Killed.
Reading symbols from /usr/lib/libsocket.so.1...done.
Reading symbols from /usr/lib/libnsl.so.1...done.
Reading symbols from /usr/lib/libdl.so.1...done.
Reading symbols from /usr/lib/libc.so.1...done.
Reading symbols from /usr/lib/libmp.so.2...done.
Reading symbols from /usr/platform/SUNW,Ultra-250/lib/libc_psr.so.1...done.
Reading symbols from /usr/lib/libpthread.so.1...done.
Reading symbols from /usr/lib/libthread.so.1...done.
Reading symbols from /usr/lib/libC.so.5...done.
Reading symbols from /client/fpias/iAS/instance/fpias/ias/gxlib/libiASApachePlugin.so...done.
Reading symbols from /client/fpias/iAS/instance/fpias/ias/gxlib/libgxlogcli.so...done.
Reading symbols from /client/fpias/iAS/instance/fpias/ias/gxlib/libldap41.so...done.
Reading symbols from /client/fpias/iAS/instance/fpias/ias/gxlib/libnspr3.so...done.
Reading symbols from /usr/lib/libposix4.so.1...done.
Reading symbols from /usr/lib/libresolv.so.2...done.
Reading symbols from /usr/lib/libaio.so.1...done.
#0  0xd6248 in ?? ()
(gdb) backtrace
#0  0xd6248 in ?? ()
#1  0x1a0 in ?? ()
#2  0x68e7788 in ?? ()
(gdb)

backtrace for [Wed Feb 27 17:13:45 2002] [notice] child pid 3732 exit signal Bus Error (10), possible coredump in /client/fpias/apache

GNU gdb 4.17
Copyright 1998 Free Software Foundation, Inc.
GDB is free software, covered by the GNU General Public License, and you are
welcome to change it and/or distribute copies of it under certain conditions.
Type "show copying" to see the conditions.
There is absolutely no warranty for GDB.  Type "show warranty" for details.
This GDB was configured as "sparc-sun-solaris2.6"...
Core was generated by `/client/fpias/apache/bin/httpd'.
Program terminated with signal 9, Killed.
Reading symbols from /usr/lib/libsocket.so.1...done.
Reading symbols from /usr/lib/libnsl.so.1...done.
Reading symbols from /usr/lib/libdl.so.1...done.
Reading symbols from /usr/lib/libc.so.1...done.
Reading symbols from /usr/lib/libmp.so.2...done.
Reading symbols from /usr/platform/SUNW,Ultra-250/lib/libc_psr.so.1...done.
Reading symbols from /usr/lib/libpthread.so.1...done.
Reading symbols from /usr/lib/libthread.so.1...done.
Reading symbols from /usr/lib/libC.so.5...done.
Reading symbols from /client/fpias/iAS/instance/fpias/ias/gxlib/libiASApachePlugin.so...done.
Reading symbols from /client/fpias/iAS/instance/fpias/ias/gxlib/libgxlogcli.so...done.
Reading symbols from /client/fpias/iAS/instance/fpias/ias/gxlib/libldap41.so...done.
Reading symbols from /client/fpias/iAS/instance/fpias/ias/gxlib/libnspr3.so...done.
Reading symbols from /usr/lib/libposix4.so.1...done.
Reading symbols from /usr/lib/libresolv.so.2...done.
Reading symbols from /usr/lib/libaio.so.1...done.
#0  accept_mutex_on () at http_main.c:771
771     }

I was previously experiencing a locking problem as described by PR NO 6710 so I recompiled with the following options which seemed to fix that problem

CFLAGS=-DUSE_SYSVSEM_SERIALIZED_ACCEPT ./configure --prefix=/client/fpias/apache --enable-module=so --wi
th-port=10095

but i still dont see any evidence of a lock file being created. My lockfile directive is as follows

LockFile /client/fpias/apache/logs/httpd.lock 

this is not an NFS mounted file system as you can see from the output of df and mount below so I'm really not sure if I've fixed the problem or just cretaed another.

[fpias@akldnd logs]$ mount
/ on /dev/dsk/c0t0d0s0 read/write/setuid/largefiles on Thu Jan 31 09:52:02 2002
/proc on /proc read/write/setuid on Thu Jan 31 09:52:02 2002
/var on /dev/dsk/c0t0d0s3 read/write/setuid/largefiles on Thu Jan 31 09:52:02 2002
/export on /dev/dsk/c0t0d0s6 setuid/read/write/largefiles on Thu Jan 31 09:52:03 2002
/opt on /dev/dsk/c0t0d0s4 setuid/read/write/largefiles on Thu Jan 31 09:52:03 2002
/tmp on /dev/dsk/c0t0d0s5 setuid/read/write/largefiles on Thu Jan 31 09:52:03 2002
/iplanet on /dev/dsk/c0t8d0s0 setuid/read/write/largefiles on Thu Jan 31 09:52:03 2002
/client on /dev/dsk/c0t12d0s0 setuid/read/write/largefiles on Thu Jan 31 09:52:03 2002
[fpias@akldnd logs]$ df
/                  (/dev/dsk/c0t0d0s0 ):  660226 blocks   234493 files
/proc              (/proc             ):       0 blocks    15810 files
/var               (/dev/dsk/c0t0d0s3 ): 1148754 blocks   268852 files
/export            (/dev/dsk/c0t0d0s6 ): 4979988 blocks   181362 files
/opt               (/dev/dsk/c0t0d0s4 ):  391486 blocks   258609 files
/tmp               (/dev/dsk/c0t0d0s5 ): 1938154 blocks   279589 files
/iplanet           (/dev/dsk/c0t8d0s0 ):30854424 blocks   253228 files
/client            (/dev/dsk/c0t12d0s0):20454660 blocks  1866194 files

>How-To-Repeat:
Use the Apachi Api Web Plugin with iPlanet application server.
>Fix:
No
>Release-Note:
>Audit-Trail:

From: Shawn Marshall <shawn.marshall@solnet.co.nz>
To: submit@bugz.apache.org
Cc: apbugs@Apache.Org
Subject: general/9971
Date: Thu, 28 Feb 2002 10:54:15 +1300

 This is a multi-part message in MIME format.
 
 --Boundary_(ID_G03V7JObqC1mh01k0k6q1A)
 Content-type: text/plain; charset=iso-8859-1
 Content-transfer-encoding: 7BIT
 
 Here are some better backtraces from the core dumps we are experiencing in the error_log file 
 
 fpias@akldnd apache]$ gdb ./bin/httpd core
 GNU gdb 4.17
 
 Copyright 1998 Free Software Foundation, Inc.
 
 GDB is free software, covered by the GNU General Public License, and you are
 
 welcome to change it and/or distribute copies of it under certain conditions.
 
 Type "show copying" to see the conditions.
 
 There is absolutely no warranty for GDB. Type "show warranty" for details.
 
 This GDB was configured as "sparc-sun-solaris2.6"...
 
 Core was generated by `/client/fpias/apache/bin/httpd'.
 
 Program terminated with signal 9, Killed.
 
 Reading symbols from /usr/lib/libsocket.so.1...done.
 
 Reading symbols from /usr/lib/libnsl.so.1...done.
 
 Reading symbols from /usr/lib/libdl.so.1...done.
 
 Reading symbols from /usr/lib/libc.so.1...done.
 
 Reading symbols from /usr/lib/libmp.so.2...done.
 
 Reading symbols from /usr/platform/SUNW,Ultra-250/lib/libc_psr.so.1...done.
 
 Reading symbols from /usr/lib/libpthread.so.1...done.
 
 Reading symbols from /usr/lib/libthread.so.1...done.
 
 Reading symbols from /usr/lib/libC.so.5...done.
 
 Reading symbols from /client/fpias/iAS/instance/fpias/ias/gxlib/libiASApachePlugin.so...done.
 
 Reading symbols from /client/fpias/iAS/instance/fpias/ias/gxlib/libgxlogcli.so...done.
 
 Reading symbols from /client/fpias/iAS/instance/fpias/ias/gxlib/libldap41.so...done.
 
 Reading symbols from /client/fpias/iAS/instance/fpias/ias/gxlib/libnspr3.so...done.
 
 Reading symbols from /usr/lib/libposix4.so.1...done.
 
 Reading symbols from /usr/lib/libresolv.so.2...done.
 
 Reading symbols from /usr/lib/libaio.so.1...done.
 
 #0 0xef5b93cc in _read ()
 
 (gdb) backtrace
 
 #0 0xef5b93cc in _read ()
 
 #1 0xef435b00 in read ()
 
 #2 0x3fb5c in buff_read (fb=0xd6278, buf=0xd62b8, nbyte=4096) at buff.c:316
 
 #3 0x3fac8 in saferead_guts (fb=0xd6278, buf=0xd62b8, nbyte=4096) at buff.c:679
 
 #4 0x3db1c in read_with_errors (fb=0xd6278, buf=0xd62b8, nbyte=4096) at buff.c:730
 
 #5 0x3dfe0 in ap_bgets (buff=0xefffd508 "", n=8192, fb=0xd6278) at buff.c:883
 
 #6 0x54fa4 in getline (s=0xefffd508 "", n=8192, in=0xd6278, fold=0) at http_protocol.c:834
 
 #7 0x5543c in read_request_line (r=0x22c448) at http_protocol.c:957
 
 #8 0x55e1c in ap_read_request (conn=0x22b408) at http_protocol.c:1115
 
 #9 0x5110c in child_main (child_num_arg=18) at http_main.c:4197
 
 #10 0x514f0 in make_child (s=0xc9d20, slot=18, now=1014842743) at http_main.c:4367
 
 #11 0x51a64 in perform_idle_server_maintenance () at http_main.c:4531
 
 #12 0x522c8 in standalone_main (argc=1, argv=0xeffff97c) at http_main.c:4763
 
 #13 0x52bfc in main (argc=1, argv=0xeffff97c) at http_main.c:5009
 
 [fpias@akldnd apache]$ gdb ./bin/httpd core
 GNU gdb 4.17
 Copyright 1998 Free Software Foundation, Inc.
 GDB is free software, covered by the GNU General Public License, and you are
 welcome to change it and/or distribute copies of it under certain conditions.
 Type "show copying" to see the conditions.
 There is absolutely no warranty for GDB.  Type "show warranty" for details.
 This GDB was configured as "sparc-sun-solaris2.6"...
 Core was generated by `/client/fpias/apache/bin/httpd'.
 Reading symbols from /usr/lib/libsocket.so.1...done.
 Reading symbols from /usr/lib/libnsl.so.1...done.
 Reading symbols from /usr/lib/libdl.so.1...done.
 Reading symbols from /usr/lib/libc.so.1...done.
 Reading symbols from /usr/lib/libmp.so.2...done.
 Reading symbols from /usr/platform/SUNW,Ultra-250/lib/libc_psr.so.1...done.
 Reading symbols from /usr/lib/libpthread.so.1...done.
 Reading symbols from /usr/lib/libthread.so.1...done.
 Reading symbols from /usr/lib/libC.so.5...done.
 Reading symbols from /client/fpias/iAS/instance/fpias/ias/gxlib/libiASApachePlugin.so...done.
 Reading symbols from /client/fpias/iAS/instance/fpias/ias/gxlib/libgxlogcli.so...done.
 Reading symbols from /client/fpias/iAS/instance/fpias/ias/gxlib/libldap41.so...done.
 Reading symbols from /client/fpias/iAS/instance/fpias/ias/gxlib/libnspr3.so...done.
 Reading symbols from /usr/lib/libposix4.so.1...done.
 Reading symbols from /usr/lib/libresolv.so.2...done.
 Reading symbols from /usr/lib/libaio.so.1...done.
 #0  0x3bdd0 in ap_kill_cleanup (p=0x0, data=0x0, cleanup=0x3c00c <fd_cleanup>) at alloc.c:1688
 1688        struct cleanup *c = p->cleanups;
 (gdb) backtrace
 #0  0x3bdd0 in ap_kill_cleanup (p=0x0, data=0x0, cleanup=0x3c00c <fd_cleanup>) at alloc.c:1688
 #1  0x3c17c in ap_pclosef (a=0x0, fd=0) at alloc.c:1804
 #2  0xef627d54 in gt_lock ()
 #3  0xef59dbe8 in wdbindf_C ()
 Cannot access memory at address 0x10800042.
 
 
 
 
 --Boundary_(ID_G03V7JObqC1mh01k0k6q1A)
 Content-type: text/html; charset=iso-8859-1
 Content-transfer-encoding: 7BIT
 
 <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
 <HTML><HEAD>
 <META http-equiv=Content-Type content="text/html; charset=iso-8859-1">
 <META content="MSHTML 5.50.4522.1800" name=GENERATOR>
 <STYLE></STYLE>
 </HEAD>
 <BODY bgColor=#ffffff>
 <DIV><FONT face=Arial size=2>Here&nbsp;are some better backtraces from the core 
 dumps we are experiencing in the error_log file </FONT></DIV>
 <DIV><FONT face="Times New Roman" size=2></FONT>&nbsp;</DIV>
 <DIV><FONT face="Times New Roman" size=2>fpias@akldnd apache]$ gdb ./bin/httpd 
 core</DIV>
 <DIV>
 <P>GNU gdb 4.17</P>
 <P>Copyright 1998 Free Software Foundation, Inc.</P>
 <P>GDB is free software, covered by the GNU General Public License, and you 
 are</P>
 <P>welcome to change it and/or distribute copies of it under certain 
 conditions.</P>
 <P>Type "show copying" to see the conditions.</P>
 <P>There is absolutely no warranty for GDB. Type "show warranty" for 
 details.</P>
 <P>This GDB was configured as "sparc-sun-solaris2.6"...</P>
 <P>Core was generated by `/client/fpias/apache/bin/httpd'.</P>
 <P>Program terminated with signal 9, Killed.</P>
 <P>Reading symbols from /usr/lib/libsocket.so.1...done.</P>
 <P>Reading symbols from /usr/lib/libnsl.so.1...done.</P>
 <P>Reading symbols from /usr/lib/libdl.so.1...done.</P>
 <P>Reading symbols from /usr/lib/libc.so.1...done.</P>
 <P>Reading symbols from /usr/lib/libmp.so.2...done.</P>
 <P>Reading symbols from 
 /usr/platform/SUNW,Ultra-250/lib/libc_psr.so.1...done.</P>
 <P>Reading symbols from /usr/lib/libpthread.so.1...done.</P>
 <P>Reading symbols from /usr/lib/libthread.so.1...done.</P>
 <P>Reading symbols from /usr/lib/libC.so.5...done.</P>
 <P>Reading symbols from 
 /client/fpias/iAS/instance/fpias/ias/gxlib/libiASApachePlugin.so...done.</P>
 <P>Reading symbols from 
 /client/fpias/iAS/instance/fpias/ias/gxlib/libgxlogcli.so...done.</P>
 <P>Reading symbols from 
 /client/fpias/iAS/instance/fpias/ias/gxlib/libldap41.so...done.</P>
 <P>Reading symbols from 
 /client/fpias/iAS/instance/fpias/ias/gxlib/libnspr3.so...done.</P>
 <P>Reading symbols from /usr/lib/libposix4.so.1...done.</P>
 <P>Reading symbols from /usr/lib/libresolv.so.2...done.</P>
 <P>Reading symbols from /usr/lib/libaio.so.1...done.</P>
 <P>#0 0xef5b93cc in _read ()</P>
 <P>(gdb) backtrace</P>
 <P>#0 0xef5b93cc in _read ()</P>
 <P>#1 0xef435b00 in read ()</P>
 <P>#2 0x3fb5c in buff_read (fb=0xd6278, buf=0xd62b8, nbyte=4096) at 
 buff.c:316</P>
 <P>#3 0x3fac8 in saferead_guts (fb=0xd6278, buf=0xd62b8, nbyte=4096) at 
 buff.c:679</P>
 <P>#4 0x3db1c in read_with_errors (fb=0xd6278, buf=0xd62b8, nbyte=4096) at 
 buff.c:730</P>
 <P>#5 0x3dfe0 in ap_bgets (buff=0xefffd508 "", n=8192, fb=0xd6278) at 
 buff.c:883</P>
 <P>#6 0x54fa4 in getline (s=0xefffd508 "", n=8192, in=0xd6278, fold=0) at 
 http_protocol.c:834</P>
 <P>#7 0x5543c in read_request_line (r=0x22c448) at http_protocol.c:957</P>
 <P>#8 0x55e1c in ap_read_request (conn=0x22b408) at http_protocol.c:1115</P>
 <P>#9 0x5110c in child_main (child_num_arg=18) at http_main.c:4197</P>
 <P>#10 0x514f0 in make_child (s=0xc9d20, slot=18, now=1014842743) at 
 http_main.c:4367</P>
 <P>#11 0x51a64 in perform_idle_server_maintenance () at http_main.c:4531</P>
 <P>#12 0x522c8 in standalone_main (argc=1, argv=0xeffff97c) at 
 http_main.c:4763</P>
 <P>#13 0x52bfc in main (argc=1, argv=0xeffff97c) at http_main.c:5009</P>
 <P><FONT face=Arial>[fpias@akldnd apache]$ gdb ./bin/httpd core<BR>GNU gdb 
 4.17<BR>Copyright 1998 Free Software Foundation, Inc.<BR>GDB is free software, 
 covered by the GNU General Public License, and you are<BR>welcome to change it 
 and/or distribute copies of it under certain conditions.<BR>Type "show copying" 
 to see the conditions.<BR>There is absolutely no warranty for GDB.&nbsp; Type 
 "show warranty" for details.<BR>This GDB was configured as 
 "sparc-sun-solaris2.6"...<BR>Core was generated by 
 `/client/fpias/apache/bin/httpd'.<BR>Reading symbols from 
 /usr/lib/libsocket.so.1...done.<BR>Reading symbols from 
 /usr/lib/libnsl.so.1...done.<BR>Reading symbols from 
 /usr/lib/libdl.so.1...done.<BR>Reading symbols from 
 /usr/lib/libc.so.1...done.<BR>Reading symbols from 
 /usr/lib/libmp.so.2...done.<BR>Reading symbols from 
 /usr/platform/SUNW,Ultra-250/lib/libc_psr.so.1...done.<BR>Reading symbols from 
 /usr/lib/libpthread.so.1...done.<BR>Reading symbols from 
 /usr/lib/libthread.so.1...done.<BR>Reading symbols from 
 /usr/lib/libC.so.5...done.<BR>Reading symbols from 
 /client/fpias/iAS/instance/fpias/ias/gxlib/libiASApachePlugin.so...done.<BR>Reading 
 symbols from 
 /client/fpias/iAS/instance/fpias/ias/gxlib/libgxlogcli.so...done.<BR>Reading 
 symbols from 
 /client/fpias/iAS/instance/fpias/ias/gxlib/libldap41.so...done.<BR>Reading 
 symbols from 
 /client/fpias/iAS/instance/fpias/ias/gxlib/libnspr3.so...done.<BR>Reading 
 symbols from /usr/lib/libposix4.so.1...done.<BR>Reading symbols from 
 /usr/lib/libresolv.so.2...done.<BR>Reading symbols from 
 /usr/lib/libaio.so.1...done.<BR>#0&nbsp; 0x3bdd0 in ap_kill_cleanup (p=0x0, 
 data=0x0, cleanup=0x3c00c &lt;fd_cleanup&gt;) at 
 alloc.c:1688<BR>1688&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; struct cleanup *c 
 = p-&gt;cleanups;<BR>(gdb) backtrace<BR>#0&nbsp; 0x3bdd0 in ap_kill_cleanup 
 (p=0x0, data=0x0, cleanup=0x3c00c &lt;fd_cleanup&gt;) at 
 alloc.c:1688<BR>#1&nbsp; 0x3c17c in ap_pclosef (a=0x0, fd=0) at 
 alloc.c:1804<BR>#2&nbsp; 0xef627d54 in gt_lock ()<BR>#3&nbsp; 0xef59dbe8 in 
 wdbindf_C ()<BR>Cannot access memory at address 0x10800042.</FONT></P>
 <P><FONT face=Arial></FONT>&nbsp;</P></FONT></DIV></BODY></HTML>
 
 --Boundary_(ID_G03V7JObqC1mh01k0k6q1A)--

From: Shawn Marshall <shawn.marshall@solnet.co.nz>
To: submit@bugz.apache.org
Cc: apbugs@Apache.Org
Subject: general/9971
Date: Thu, 28 Feb 2002 10:54:15 +1300

 This is a multi-part message in MIME format.
 
 --Boundary_(ID_G03V7JObqC1mh01k0k6q1A)
 Content-type: text/plain; charset=iso-8859-1
 Content-transfer-encoding: 7BIT
 
 Here are some better backtraces from the core dumps we are experiencing in the error_log file 
 
 fpias@akldnd apache]$ gdb ./bin/httpd core
 GNU gdb 4.17
 
 Copyright 1998 Free Software Foundation, Inc.
 
 GDB is free software, covered by the GNU General Public License, and you are
 
 welcome to change it and/or distribute copies of it under certain conditions.
 
 Type "show copying" to see the conditions.
 
 There is absolutely no warranty for GDB. Type "show warranty" for details.
 
 This GDB was configured as "sparc-sun-solaris2.6"...
 
 Core was generated by `/client/fpias/apache/bin/httpd'.
 
 Program terminated with signal 9, Killed.
 
 Reading symbols from /usr/lib/libsocket.so.1...done.
 
 Reading symbols from /usr/lib/libnsl.so.1...done.
 
 Reading symbols from /usr/lib/libdl.so.1...done.
 
 Reading symbols from /usr/lib/libc.so.1...done.
 
 Reading symbols from /usr/lib/libmp.so.2...done.
 
 Reading symbols from /usr/platform/SUNW,Ultra-250/lib/libc_psr.so.1...done.
 
 Reading symbols from /usr/lib/libpthread.so.1...done.
 
 Reading symbols from /usr/lib/libthread.so.1...done.
 
 Reading symbols from /usr/lib/libC.so.5...done.
 
 Reading symbols from /client/fpias/iAS/instance/fpias/ias/gxlib/libiASApachePlugin.so...done.
 
 Reading symbols from /client/fpias/iAS/instance/fpias/ias/gxlib/libgxlogcli.so...done.
 
 Reading symbols from /client/fpias/iAS/instance/fpias/ias/gxlib/libldap41.so...done.
 
 Reading symbols from /client/fpias/iAS/instance/fpias/ias/gxlib/libnspr3.so...done.
 
 Reading symbols from /usr/lib/libposix4.so.1...done.
 
 Reading symbols from /usr/lib/libresolv.so.2...done.
 
 Reading symbols from /usr/lib/libaio.so.1...done.
 
 #0 0xef5b93cc in _read ()
 
 (gdb) backtrace
 
 #0 0xef5b93cc in _read ()
 
 #1 0xef435b00 in read ()
 
 #2 0x3fb5c in buff_read (fb=0xd6278, buf=0xd62b8, nbyte=4096) at buff.c:316
 
 #3 0x3fac8 in saferead_guts (fb=0xd6278, buf=0xd62b8, nbyte=4096) at buff.c:679
 
 #4 0x3db1c in read_with_errors (fb=0xd6278, buf=0xd62b8, nbyte=4096) at buff.c:730
 
 #5 0x3dfe0 in ap_bgets (buff=0xefffd508 "", n=8192, fb=0xd6278) at buff.c:883
 
 #6 0x54fa4 in getline (s=0xefffd508 "", n=8192, in=0xd6278, fold=0) at http_protocol.c:834
 
 #7 0x5543c in read_request_line (r=0x22c448) at http_protocol.c:957
 
 #8 0x55e1c in ap_read_request (conn=0x22b408) at http_protocol.c:1115
 
 #9 0x5110c in child_main (child_num_arg=18) at http_main.c:4197
 
 #10 0x514f0 in make_child (s=0xc9d20, slot=18, now=1014842743) at http_main.c:4367
 
 #11 0x51a64 in perform_idle_server_maintenance () at http_main.c:4531
 
 #12 0x522c8 in standalone_main (argc=1, argv=0xeffff97c) at http_main.c:4763
 
 #13 0x52bfc in main (argc=1, argv=0xeffff97c) at http_main.c:5009
 
 [fpias@akldnd apache]$ gdb ./bin/httpd core
 GNU gdb 4.17
 Copyright 1998 Free Software Foundation, Inc.
 GDB is free software, covered by the GNU General Public License, and you are
 welcome to change it and/or distribute copies of it under certain conditions.
 Type "show copying" to see the conditions.
 There is absolutely no warranty for GDB.  Type "show warranty" for details.
 This GDB was configured as "sparc-sun-solaris2.6"...
 Core was generated by `/client/fpias/apache/bin/httpd'.
 Reading symbols from /usr/lib/libsocket.so.1...done.
 Reading symbols from /usr/lib/libnsl.so.1...done.
 Reading symbols from /usr/lib/libdl.so.1...done.
 Reading symbols from /usr/lib/libc.so.1...done.
 Reading symbols from /usr/lib/libmp.so.2...done.
 Reading symbols from /usr/platform/SUNW,Ultra-250/lib/libc_psr.so.1...done.
 Reading symbols from /usr/lib/libpthread.so.1...done.
 Reading symbols from /usr/lib/libthread.so.1...done.
 Reading symbols from /usr/lib/libC.so.5...done.
 Reading symbols from /client/fpias/iAS/instance/fpias/ias/gxlib/libiASApachePlugin.so...done.
 Reading symbols from /client/fpias/iAS/instance/fpias/ias/gxlib/libgxlogcli.so...done.
 Reading symbols from /client/fpias/iAS/instance/fpias/ias/gxlib/libldap41.so...done.
 Reading symbols from /client/fpias/iAS/instance/fpias/ias/gxlib/libnspr3.so...done.
 Reading symbols from /usr/lib/libposix4.so.1...done.
 Reading symbols from /usr/lib/libresolv.so.2...done.
 Reading symbols from /usr/lib/libaio.so.1...done.
 #0  0x3bdd0 in ap_kill_cleanup (p=0x0, data=0x0, cleanup=0x3c00c <fd_cleanup>) at alloc.c:1688
 1688        struct cleanup *c = p->cleanups;
 (gdb) backtrace
 #0  0x3bdd0 in ap_kill_cleanup (p=0x0, data=0x0, cleanup=0x3c00c <fd_cleanup>) at alloc.c:1688
 #1  0x3c17c in ap_pclosef (a=0x0, fd=0) at alloc.c:1804
 #2  0xef627d54 in gt_lock ()
 #3  0xef59dbe8 in wdbindf_C ()
 Cannot access memory at address 0x10800042.
 
 
 
 
 --Boundary_(ID_G03V7JObqC1mh01k0k6q1A)
 Content-type: text/html; charset=iso-8859-1
 Content-transfer-encoding: 7BIT
 
 <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
 <HTML><HEAD>
 <META http-equiv=Content-Type content="text/html; charset=iso-8859-1">
 <META content="MSHTML 5.50.4522.1800" name=GENERATOR>
 <STYLE></STYLE>
 </HEAD>
 <BODY bgColor=#ffffff>
 <DIV><FONT face=Arial size=2>Here&nbsp;are some better backtraces from the core 
 dumps we are experiencing in the error_log file </FONT></DIV>
 <DIV><FONT face="Times New Roman" size=2></FONT>&nbsp;</DIV>
 <DIV><FONT face="Times New Roman" size=2>fpias@akldnd apache]$ gdb ./bin/httpd 
 core</DIV>
 <DIV>
 <P>GNU gdb 4.17</P>
 <P>Copyright 1998 Free Software Foundation, Inc.</P>
 <P>GDB is free software, covered by the GNU General Public License, and you 
 are</P>
 <P>welcome to change it and/or distribute copies of it under certain 
 conditions.</P>
 <P>Type "show copying" to see the conditions.</P>
 <P>There is absolutely no warranty for GDB. Type "show warranty" for 
 details.</P>
 <P>This GDB was configured as "sparc-sun-solaris2.6"...</P>
 <P>Core was generated by `/client/fpias/apache/bin/httpd'.</P>
 <P>Program terminated with signal 9, Killed.</P>
 <P>Reading symbols from /usr/lib/libsocket.so.1...done.</P>
 <P>Reading symbols from /usr/lib/libnsl.so.1...done.</P>
 <P>Reading symbols from /usr/lib/libdl.so.1...done.</P>
 <P>Reading symbols from /usr/lib/libc.so.1...done.</P>
 <P>Reading symbols from /usr/lib/libmp.so.2...done.</P>
 <P>Reading symbols from 
 /usr/platform/SUNW,Ultra-250/lib/libc_psr.so.1...done.</P>
 <P>Reading symbols from /usr/lib/libpthread.so.1...done.</P>
 <P>Reading symbols from /usr/lib/libthread.so.1...done.</P>
 <P>Reading symbols from /usr/lib/libC.so.5...done.</P>
 <P>Reading symbols from 
 /client/fpias/iAS/instance/fpias/ias/gxlib/libiASApachePlugin.so...done.</P>
 <P>Reading symbols from 
 /client/fpias/iAS/instance/fpias/ias/gxlib/libgxlogcli.so...done.</P>
 <P>Reading symbols from 
 /client/fpias/iAS/instance/fpias/ias/gxlib/libldap41.so...done.</P>
 <P>Reading symbols from 
 /client/fpias/iAS/instance/fpias/ias/gxlib/libnspr3.so...done.</P>
 <P>Reading symbols from /usr/lib/libposix4.so.1...done.</P>
 <P>Reading symbols from /usr/lib/libresolv.so.2...done.</P>
 <P>Reading symbols from /usr/lib/libaio.so.1...done.</P>
 <P>#0 0xef5b93cc in _read ()</P>
 <P>(gdb) backtrace</P>
 <P>#0 0xef5b93cc in _read ()</P>
 <P>#1 0xef435b00 in read ()</P>
 <P>#2 0x3fb5c in buff_read (fb=0xd6278, buf=0xd62b8, nbyte=4096) at 
 buff.c:316</P>
 <P>#3 0x3fac8 in saferead_guts (fb=0xd6278, buf=0xd62b8, nbyte=4096) at 
 buff.c:679</P>
 <P>#4 0x3db1c in read_with_errors (fb=0xd6278, buf=0xd62b8, nbyte=4096) at 
 buff.c:730</P>
 <P>#5 0x3dfe0 in ap_bgets (buff=0xefffd508 "", n=8192, fb=0xd6278) at 
 buff.c:883</P>
 <P>#6 0x54fa4 in getline (s=0xefffd508 "", n=8192, in=0xd6278, fold=0) at 
 http_protocol.c:834</P>
 <P>#7 0x5543c in read_request_line (r=0x22c448) at http_protocol.c:957</P>
 <P>#8 0x55e1c in ap_read_request (conn=0x22b408) at http_protocol.c:1115</P>
 <P>#9 0x5110c in child_main (child_num_arg=18) at http_main.c:4197</P>
 <P>#10 0x514f0 in make_child (s=0xc9d20, slot=18, now=1014842743) at 
 http_main.c:4367</P>
 <P>#11 0x51a64 in perform_idle_server_maintenance () at http_main.c:4531</P>
 <P>#12 0x522c8 in standalone_main (argc=1, argv=0xeffff97c) at 
 http_main.c:4763</P>
 <P>#13 0x52bfc in main (argc=1, argv=0xeffff97c) at http_main.c:5009</P>
 <P><FONT face=Arial>[fpias@akldnd apache]$ gdb ./bin/httpd core<BR>GNU gdb 
 4.17<BR>Copyright 1998 Free Software Foundation, Inc.<BR>GDB is free software, 
 covered by the GNU General Public License, and you are<BR>welcome to change it 
 and/or distribute copies of it under certain conditions.<BR>Type "show copying" 
 to see the conditions.<BR>There is absolutely no warranty for GDB.&nbsp; Type 
 "show warranty" for details.<BR>This GDB was configured as 
 "sparc-sun-solaris2.6"...<BR>Core was generated by 
 `/client/fpias/apache/bin/httpd'.<BR>Reading symbols from 
 /usr/lib/libsocket.so.1...done.<BR>Reading symbols from 
 /usr/lib/libnsl.so.1...done.<BR>Reading symbols from 
 /usr/lib/libdl.so.1...done.<BR>Reading symbols from 
 /usr/lib/libc.so.1...done.<BR>Reading symbols from 
 /usr/lib/libmp.so.2...done.<BR>Reading symbols from 
 /usr/platform/SUNW,Ultra-250/lib/libc_psr.so.1...done.<BR>Reading symbols from 
 /usr/lib/libpthread.so.1...done.<BR>Reading symbols from 
 /usr/lib/libthread.so.1...done.<BR>Reading symbols from 
 /usr/lib/libC.so.5...done.<BR>Reading symbols from 
 /client/fpias/iAS/instance/fpias/ias/gxlib/libiASApachePlugin.so...done.<BR>Reading 
 symbols from 
 /client/fpias/iAS/instance/fpias/ias/gxlib/libgxlogcli.so...done.<BR>Reading 
 symbols from 
 /client/fpias/iAS/instance/fpias/ias/gxlib/libldap41.so...done.<BR>Reading 
 symbols from 
 /client/fpias/iAS/instance/fpias/ias/gxlib/libnspr3.so...done.<BR>Reading 
 symbols from /usr/lib/libposix4.so.1...done.<BR>Reading symbols from 
 /usr/lib/libresolv.so.2...done.<BR>Reading symbols from 
 /usr/lib/libaio.so.1...done.<BR>#0&nbsp; 0x3bdd0 in ap_kill_cleanup (p=0x0, 
 data=0x0, cleanup=0x3c00c &lt;fd_cleanup&gt;) at 
 alloc.c:1688<BR>1688&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; struct cleanup *c 
 = p-&gt;cleanups;<BR>(gdb) backtrace<BR>#0&nbsp; 0x3bdd0 in ap_kill_cleanup 
 (p=0x0, data=0x0, cleanup=0x3c00c &lt;fd_cleanup&gt;) at 
 alloc.c:1688<BR>#1&nbsp; 0x3c17c in ap_pclosef (a=0x0, fd=0) at 
 alloc.c:1804<BR>#2&nbsp; 0xef627d54 in gt_lock ()<BR>#3&nbsp; 0xef59dbe8 in 
 wdbindf_C ()<BR>Cannot access memory at address 0x10800042.</FONT></P>
 <P><FONT face=Arial></FONT>&nbsp;</P></FONT></DIV></BODY></HTML>
 
 --Boundary_(ID_G03V7JObqC1mh01k0k6q1A)--
State-Changed-From-To: open-closed
State-Changed-By: slive
State-Changed-When: Sun Mar  3 11:33:40 PST 2002
State-Changed-Why:

Hmmm... Since it seems you get this problem only when
using the iPlanet app server, there is not much we can
do to help you.  We have no knowledge of or access to
the code behind that software.  I suggest you take the
problem up with Netscape.

Thanks for using Apache.

>Unformatted:
 [In order for any reply to be added to the PR database, you need]
 [to include <apbugs@Apache.Org> in the Cc line and make sure the]
 [subject line starts with the report component and number, with ]
 [or without any 'Re:' prefixes (such as "general/1098:" or      ]
 ["Re: general/1098:").  If the subject doesn't match this       ]
 [pattern, your message will be misfiled and ignored.  The       ]
 ["apbugs" address is not added to the Cc line of messages from  ]
 [the database automatically because of the potential for mail   ]
 [loops.  If you do not include this Cc, your reply may be ig-   ]
 [nored unless you are responding to an explicit request from a  ]
 [developer.  Reply only with text; DO NOT SEND ATTACHMENTS!     ]
 
 

