Received: (qmail 87209 invoked by uid 501); 31 Oct 2000 12:11:06 -0000
Message-Id: <20001031121106.87208.qmail@locus.apache.org>
Date: 31 Oct 2000 12:11:06 -0000
From: stefan parvu <stefan.parvu@comptel.com>
Reply-To: stefan.parvu@comptel.com
To: submit@bugz.apache.org
Subject: httpd core dump
X-Send-Pr-Version: 3.110

>Number:         6768
>Category:       os-solaris
>Synopsis:       httpd core dump
>Confidential:   no
>Severity:       critical
>Priority:       medium
>Responsible:    apache
>State:          closed
>Quarter:        
>Keywords:       
>Date-Required:  
>Class:          sw-bug
>Submitter-Id:   apache
>Arrival-Date:   Tue Oct 31 04:20:01 PST 2000
>Closed-Date:    Tue Oct 31 11:33:51 PST 2000
>Last-Modified:  Thu Jan 10 09:50:00 PST 2002
>Originator:     stefan.parvu@comptel.com
>Release:        1.3.12
>Organization:
>Environment:
SunOS machine 5.6 Generic_105181-12 sun4u sparc
gcc compiler
>Description:

GNU gdb 4.17
Copyright 1998 Free Software Foundation, Inc.
GDB is free software, covered by the GNU General Public License, and you are
welcome to change it and/or distribute copies of it under certain conditions.
Type "show copying" to see the conditions.
There is absolutely no warranty for GDB.  Type "show warranty" for details.
This GDB was configured as "sparc-sun-solaris2.6".
(gdb) core core
Core was generated by `/programs/apache/bin/httpd'.
Program terminated with signal 11, Segmentation Fault.
#0  0x2acc0 in ?? ()
(gdb) bt
#0  0x2acc0 in ?? ()
#1  0x6642c in ?? ()
#2  0x82580 in ?? ()
#3  0x82600 in ?? ()
#4  0x7625c in ?? ()
#5  0x765bc in ?? ()
#6  0x766cc in ?? ()
#7  0x76fdc in ?? ()
#8  0x77b9c in ?? ()
(gdb) 


Dump from error_log:

$ less error_log 
[Tue Oct 31 11:35:50 2000] [notice] Apache/1.3.12 (Unix) mod_perl/1.24 configured -- resuming normal operations
[Tue Oct 31 11:36:09 2000] [notice] child pid 10457 exit signal Segmentation Fault (11), possible coredump in /programs/apache/SunOS
[Tue Oct 31 14:10:23 2000] [notice] child pid 10458 exit signal Segmentation Fault (11), possible coredump in /programs/apache/SunOS
>How-To-Repeat:
-
>Fix:
-
>Release-Note:
>Audit-Trail:
State-Changed-From-To: open-closed
State-Changed-By: fanf
State-Changed-When: Tue Oct 31 11:33:48 PST 2000
State-Changed-Why:
If you are interested in being able to debug these core
dumps you should compile apache with debug symbols. I see
that you are using mod_perl which I suspect may be the cause
of the problem. You should try to find out what request
causes the core dump.

From: Ralf Hettinger <ralf@mufasa.informatik.uni-mannheim.de>
To: apbugs@apache.org
Cc:  
Subject: RE:  os-solaris/6768: httpd core dump
Date: Thu, 10 Jan 2002 18:44:49 +0100

 Im a little late but got the same problem. Have also installed
 mod_perl_1.26 with apache_1.3.20. 
 
 gdb after that told me:
 
 > gdb --core core bin/httpd
 
 GNU gdb 5.0
 Copyright 2000 Free Software Foundation, Inc.
 ...
 This GDB was configured as "sparc-sun-solaris2.8"...
 Core was generated by `/opt2/www/apache_1.3.20_mod_perl/bin/httpd'.
 Program terminated with signal 11, Segmentation Fault.
 ...
 (gdb) bt
 #0  0xfed91180 in match_headers ()
    from /opt2/www/apache_1.3.20_mod_perl/libexec/mod_setenvif.so
 #1  0x52f04 in run_method ()
 #2  0x530d4 in ap_header_parse ()
 #3  0x702c8 in process_request_internal ()
 #4  0x707dc in ap_process_request ()
 #5  0x63d70 in child_main ()
 #6  0x640fc in make_child ()
 #7  0x64220 in startup_children ()
 #8  0x64c10 in standalone_main ()
 #9  0x6580c in main ()  
 
 so I quoted DSO mod_setenvif.so in httpd.conf. Similar error ocurred:
 
 > gdb --core core bin/httpd
 
 GNU gdb 5.0
 Copyright 2000 Free Software Foundation, Inc.
 ...
 This GDB was configured as "sparc-sun-solaris2.8"...
 Core was generated by `/opt2/www/apache_1.3.20_mod_perl/bin/httpd'.
 Program terminated with signal 11, Segmentation Fault.
 ...
 (gdb) bt
 #0  0xfeef1398 in check_dir_access ()
    from /opt2/www/apache_1.3.20_mod_perl/libexec/mod_access.so
 #1  0x52f04 in run_method ()
 #2  0x52ff4 in ap_check_access ()
 #3  0x7034c in process_request_internal ()
 #4  0x707dc in ap_process_request ()
 #5  0x63d70 in child_main ()
 #6  0x640fc in make_child ()
 #7  0x64220 in startup_children ()
 #8  0x64c10 in standalone_main ()
 #9  0x6580c in main ()
 
 didn't want to quote DSO mod_access.so, too. 
 Maybe this could help you (and me) with understanding what the problem
 is?
>Unformatted:
 [In order for any reply to be added to the PR database, you need]
 [to include <apbugs@Apache.Org> in the Cc line and make sure the]
 [subject line starts with the report component and number, with ]
 [or without any 'Re:' prefixes (such as "general/1098:" or      ]
 ["Re: general/1098:").  If the subject doesn't match this       ]
 [pattern, your message will be misfiled and ignored.  The       ]
 ["apbugs" address is not added to the Cc line of messages from  ]
 [the database automatically because of the potential for mail   ]
 [loops.  If you do not include this Cc, your reply may be ig-   ]
 [nored unless you are responding to an explicit request from a  ]
 [developer.  Reply only with text; DO NOT SEND ATTACHMENTS!     ]
 
 

