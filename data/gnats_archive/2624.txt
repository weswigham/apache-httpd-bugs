Received: (qmail 26434 invoked by uid 2012); 15 Jul 1998 14:08:07 -0000
Message-Id: <19980715140807.26433.qmail@hyperreal.org>
Date: 15 Jul 1998 14:08:07 -0000
From: Richard Lloyd <rkl@connect.org.uk>
Reply-To: rkl@connect.org.uk
To: apbugs@hyperreal.org
Subject: make clean leaves two files behind that should be cleaned
X-Send-Pr-Version: 3.2

>Number:         2624
>Category:       general
>Synopsis:       make clean leaves two files behind that should be cleaned
>Confidential:   no
>Severity:       non-critical
>Priority:       medium
>Responsible:    apache
>State:          closed
>Class:          change-request
>Submitter-Id:   apache
>Arrival-Date:   Wed Jul 15 07:10:01 PDT 1998
>Last-Modified:  Wed Jul 15 11:24:04 PDT 1998
>Originator:     rkl@connect.org.uk
>Organization:
>Release:        1.3.0
>Environment:
HP-UX B.10.20 A 9000/777 2011764956 two-user license
using HP's ANSI C compiler
>Description:
src/regex/regcomp.ih and src/regex/regerror.ih are not cleaned during
a "make clean" and yet they are generated during a build via the mkh command.
"make clean" should delete them.
>How-To-Repeat:
./configure
make
make clean
Look in src/regex for the two files regcomp.ih and regerror.ih
>Fix:
Change line 136 of src/regex/Makefile.tmpl to:

	rm -f *.o *.s re libregex.a regcomp.ih regerror.ih
>Audit-Trail:
State-Changed-From-To: open-closed
State-Changed-By: marc
State-Changed-When: Wed Jul 15 11:24:03 PDT 1998
State-Changed-Why:
Because, on some platforms, these files can not be automatically
generated (eg. Win32) they are actually a part of the CVS
repository and can not be removed without other things
breaking.

While they are generated by mkh, they are also present
there before mkh gets to them, and mkh normally doesn't end
up changing them unless other code has changed.

Thanks for the report.
>Unformatted:
[In order for any reply to be added to the PR database, ]
[you need to include <apbugs@Apache.Org> in the Cc line ]
[and leave the subject line UNCHANGED.  This is not done]
[automatically because of the potential for mail loops. ]



