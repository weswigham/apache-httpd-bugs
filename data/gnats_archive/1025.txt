From apwww@hyperreal.org  Wed Aug 20 14:40:22 1997
Received: (from apwww@localhost)
	by hyperreal.org (8.8.5/8.8.5) id OAA28660;
	Wed, 20 Aug 1997 14:40:22 -0700 (PDT)
Message-Id: <199708202140.OAA28660@hyperreal.org>
Date: Wed, 20 Aug 1997 14:40:22 -0700 (PDT)
From: Baur@hyperreal.org, SL <steve@calag.com>
Reply-To: steve@calag.com
To: apbugs@hyperreal.org
Subject: Configure causes gawk to drop core with a blown stack
X-Send-Pr-Version: 3.2

>Number:         1025
>Category:       config
>Synopsis:       Configure causes gawk to drop core with a blown stack
>Confidential:   no
>Severity:       non-critical
>Priority:       medium
>Responsible:    apache
>State:          closed
>Class:          sw-bug
>Submitter-Id:   apache
>Arrival-Date:   Wed Aug 20 14:50:02 1997
>Originator:     steve@calag.com
>Organization:
>Release:        1.2.3
>Environment:
Linux altair.xemacs.org 2.0.31 #3 Sun Aug 17 16:27:50 PDT 1997 i586
(Actually linux-2.0.31-pre7), with libc-5.4.33 and gawk-3.0.0
>Description:
Core was generated by `awk ($1 == "Module" && $3 ~ /modules\//) { split ($3, pp, "/"); \
   printf "%s'.
(gdb) where
#0  0x40082f61 in __kill ()
#1  0x4004f07d in raise (sig=11)
#2  0xbffff228 in __ypbindlist ()
#3  0x8052edb in main (argc=2, argv=0xbffff328) at main.c:365
#4  0x804974b in ___crt_dummy__ ()
>How-To-Repeat:
./Configure in src
>Fix:
Upgrading to gawk-3.0.3 fixes it.  I've configured and compiled dozens of versions
of Apache from 0.80 to 1.2.1 without having this problem before
>Audit-Trail:
State-Changed-From-To: open-closed
State-Changed-By: marc
State-Changed-When: Wed Aug 20 15:43:28 PDT 1997
State-Changed-Why:
Interesting.  I can't find anything that changed in that
area between 1.2.1 and 1.2.3, and gawk 3.0.0 on other platforms
doesn't do this as far as I can see.  If you can track
down any particular change that caused this or a workaround,
let us know, but otherwise there doesn't look to be much
we can do.

From: Marc Slemko <marcs@znep.com>
To: SL Baur <steve@calag.com>
Subject: Re: config/1025: Configure causes gawk to drop core with a blown stack
Date: Thu, 21 Aug 1997 22:24:37 -0600 (MDT)

 
 On 21 Aug 1997, SL Baur wrote:
 
 > Marc Slemko <marc@hyperreal.org> writes:
 > 
 > > If you can track down any particular change that caused this or a
 > > workaround, let us know, but otherwise there doesn't look to be much
 > > we can do.
 > 
 > There is a workaround/fix, didn't it get into the bug report?  Upgrading
 > to Gawk-3.0.3 made things work.  It's not clear it's worth it to look
 > for anything more specific and the problem+fix is documented in your
 > bugs database in case anyone else has the same trouble.
 
 No, I was referring to a workaround as in changing the code Configure
 runs, even if it is technically correct, to avoid the particular problem. 
 Even when other things are broken we try to work around them if possible. 
 Take the last 200 versions of Navigator for example. 
 
 Thanks for the report.
 
>Unformatted:

>Last-Modified:  Wed Aug 20 15:43:29 PDT 1997


