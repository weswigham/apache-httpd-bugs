Received: (qmail 829 invoked by uid 2012); 24 Feb 1998 13:15:24 -0000
Message-Id: <19980224131524.828.qmail@hyperreal.org>
Date: 24 Feb 1998 13:15:24 -0000
From: Dmitry Rubinstein <dimrub@wisdom.weizmann.ac.il>
Reply-To: dimrub@wisdom.weizmann.ac.il
To: apbugs@hyperreal.org
Subject: Crypt function is not found at the compile time.
X-Send-Pr-Version: 3.2

>Number:         1865
>Category:       os-linux
>Synopsis:       Crypt function is not found at the compile time.
>Confidential:   no
>Severity:       non-critical
>Priority:       medium
>Responsible:    apache
>State:          closed
>Class:          sw-bug
>Submitter-Id:   apache
>Arrival-Date:   Tue Feb 24 05:20:00 PST 1998
>Last-Modified:  Tue Feb 24 06:28:25 PST 1998
>Originator:     dimrub@wisdom.weizmann.ac.il
>Organization:
>Release:        1.2.5
>Environment:
Linux 2.0.32 #11 Mon Feb 23 15:52:58 IST 1998 i686 
>Description:
Output of make:

mod_auth.o: In function `authenticate_basic_user':
mod_auth.o(.text+0x2d0): undefined reference to `crypt'
make: *** [httpd] Error 1

Also while compiling in support directory:

/tmp/cca034521.o: In function `add_password':
/tmp/cca034521.o(.text+0x1d5): undefined reference to `crypt'
make: *** [htpasswd] Error 1

>How-To-Repeat:

>Fix:
A workaround: put the following in the Configuration:

EXTRA_LIBS=/lib/libcrypt.so.1

And the following in support/Makefile:

LIBS1=/lib/libcrypt.so.1
%0
>Audit-Trail:
State-Changed-From-To: open-closed
State-Changed-By: marc
State-Changed-When: Tue Feb 24 06:28:24 PST 1998
State-Changed-Why:
If you would take two seconds to search the bugdb before
reporting it, you would see 988 reports on this already.

The fix is to add -lcrypt to the EXTRA_LIBS.
support/Makefile is autogenerated from support/Makefile.tmpl
when you run Configure.

As is mentioned in each other PR on this same thing, 1.3 will
automatically detect if crypt is needed.  1.2 does not.
>Unformatted:
[In order for any reply to be added to the PR database, ]
[you need to include <apbugs@Apache.Org> in the Cc line ]
[and leave the subject line UNCHANGED.  This is not done]
[automatically because of the potential for mail loops. ]



